<div class="container">
  <div class="header">
    <button class="btn-volver" (click)="volver()" >
        <img src="assets/images/volver.png" width="18" style="cursor:pointer;" />
    </button>
    <h2>Autorizaciones</h2>
  </div>

  <div class="formulario">
    <div class="fila">
        <label>Paciente:</label>
        <div>{{ paciente }}</div>
    </div>

    <div class="fila">
        <label>Identificación:</label>
        <div>{{ identificacion }}</div>
    </div>

    <div class="fila">
        <label>Protocolo:</label>
        <div>{{ protocolo }}</div>
    </div>

    <div class="fila">
        <label>EPS:</label>
        <div>{{ eps }}</div>
    </div>

    <h3>Autorización de medicamentos</h3>

    <div class="fila">
        <label>Tipo de autorización:</label>
        <select [(ngModel)]="tipoSeleccionado">
            <option *ngFor="let opcion of tipoOpciones" [value]="opcion">
                {{ opcion }}
            </option>
        </select>
    </div>

  </div>

  <!-- Si es Universal -->
  <div *ngIf="tipoSeleccionado === 'Universal'" class="layout-individual">
    <div class="tabla-individual">
        <app-tabla-dinamica [columnas]="columnasUniversal" [datos]="datos"></app-tabla-dinamica>
    </div>
    <div class="formulario-individual">
        <label>No. Autorización:</label>
        <input type="text" />
        <label>Fecha:</label>
        <input type="date" />
  </div>
</div>

<!-- Si es Individual -->
<div *ngIf="tipoSeleccionado === 'Individual'" class="layout-universal">
  <div class="fila-individual">
    <label>No. Autorización:</label>
    <input type="text" [(ngModel)]="autorizacionIndividual.numero" />
    <label>Fecha:</label>
    <input type="date" [(ngModel)]="autorizacionIndividual.fecha" />
  </div>
  <div class="tabla-individual">
      <app-tabla-dinamica [columnas]="columnasIndividual" [datos]="datos"></app-tabla-dinamica>
  </div>
</div>

<h3>Autorización de laboratorios</h3>
<div class="laboratorios">
    <div *ngFor="let lab of laboratorios; let i = index" class="fila">
      <label>No. Autorización:</label>
      <input type="text" [(ngModel)]="lab.autorizacion" class="input-small" />

      <label>Fecha:</label>
      <input type="date" [(ngModel)]="lab.fecha" class="input-small" />

      <label>Descripción:</label>
      <input type="text" [(ngModel)]="lab.descripcion" class="input-medium" />

      <button class="btn-icono" (click)="eliminarLaboratorio(i)" class="btn-trash">
        <img src="assets/images/eliminar.png" width="18" />
      </button>
    </div>

    <button class="btn-agregar" (click)="agregarLaboratorio()">+</button>
  </div>

  <div class="acciones">
    <button class="btn-accion" (click)="Cancelar()">Carcelar</button>
    <button class="btn-accion" (click)="Guardar()">Guardar</button>
  </div>

</div>
