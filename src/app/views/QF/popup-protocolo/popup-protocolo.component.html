<div class="popup-container">
  <div class="popup">
    <div class="header">
      <button class="btn-volver" (click)="volver()" >
        <img src="assets/images/volver.png" width="18" style="cursor:pointer;" />
      </button>
    </div>

    <form (ngSubmit)="guardar()">
      <div class="form-row">
        <label>Protocolo <span class="required">*</span></label>
        <select (change)="seleccionarProtocolo($event)" required>
          <option value="" disabled selected>-- Seleccione un protocolo --</option>
          <option *ngFor="let p of protocolos" [value]="p.id">{{ p.nombre }}</option>
        </select>
      </div>

      <div class="form-row">
        <label>Fecha de consulta <span class="required">*</span></label>
        <input type="date" [(ngModel)]="formData.fechaConsulta" name="fechaConsulta" required />
      </div>

      <div class="form-row">
        <label>Fecha de ingreso</label>
        <div>{{ fechaIngreso }}</div>
      </div>

      <div class="form-row">
        <label>Tipo de paciente <span class="required">*</span></label>
        <select [(ngModel)]="formData.tipoPaciente" name="tipoPaciente" required>
          <option value="" disabled selected>-- Seleccione un tipo de paciente --</option>
          <option *ngFor="let tipo of tiposPaciente" [value]="tipo.value">{{ tipo.label }}</option>
        </select>
      </div>

      <div class="form-row">
        <label>Razón de tratamiento <span class="required">*</span></label>
        <select [(ngModel)]="formData.razon" name="razon" required>
          <option value="" disabled selected>-- Seleccione la razón de tratamiento --</option>
          <option *ngFor="let r of razones" [value]="r.value">{{ r.label }}</option>
        </select>
      </div>


      <div class="form-row">
        <label>Tratamiento <span class="required">*</span></label>
        <select [(ngModel)]="formData.tratamiento" name="tratamiento" required>
          <option value="" disabled selected>-- Seleccione un tratamiento --</option>
          <option *ngFor="let t of tratamientos" [value]="t.value">{{ t.label }}</option>
        </select>
      </div>

      <div class="form-row">
        <label>Tipo de tratamiento <span class="required">*</span></label>
        <select [(ngModel)]="formData.tipoTratamiento" name="tipoTratamiento" required>
          <option value="" disabled selected>-- Seleccione un tipo --</option>
          <option *ngFor="let tt of tiposTratamiento" [value]="tt.value">{{ tt.label }}</option>
        </select>
      </div>

      <button type="submit" class="guardar-btn">Guardar</button>
    </form>
  </div>
</div>

